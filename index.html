<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Misiune: Decriptare Finală</title>
    <style>
        /* Stilul General - Modul Mister */
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Courier New', monospace;
            color: #00ff41; 
            text-align: center;
            background-color: #0d0d0d; 
            transition: background-color 2s ease-in-out, color 2s ease-in-out; 
        }
        
        /* Containerul */
        .container {
            background-color: rgba(0, 0, 0, 0.7); 
            padding: 40px;
            border-radius: 10px;
            border: 2px solid #00ff41; 
            box-shadow: 0 0 20px rgba(0, 255, 65, 0.5);
            max-width: 90%;
            animation: glitch 1.5s infinite alternate;
        }

        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-1px, 1px); }
            40% { transform: translate(-1px, -1px); }
            60% { transform: translate(1px, 1px); }
            80% { transform: translate(1px, -1px); }
            100% { transform: translate(0); }
        }

        h1 {
            font-size: 2.5em;
            letter-spacing: 3px;
            margin-bottom: 20px;
        }
        
        /* Câmpul de Parolă */
        .password-input {
            padding: 10px;
            margin: 20px 0;
            font-size: 1.2em;
            text-align: center;
            border: 2px solid #00ff41;
            background-color: #000;
            color: #00ff41;
            font-family: 'Courier New', monospace;
        }

        /* Butoane */
        button {
            background-color: #ff0041; 
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 1.1em;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s ease;
            font-weight: bold;
            margin-top: 10px;
        }
        button:hover {
            background-color: #cc0033;
        }

        /* Stil pentru Mesajele de Eroare */
        #error-message-date, #error-message-initials {
            color: red;
            font-size: 1.5em;
            margin-top: 20px;
            display: none;
            animation: pulse-red 0.5s infinite alternate;
        }
        @keyframes pulse-red {
            from { opacity: 0.5; text-shadow: 0 0 5px red; }
            to { opacity: 1; text-shadow: 0 0 15px red; }
        }
        
        /* Stilul de Dezvăluire Finală (Misiunea 2) - Culori de Plajă */
        .final-mission {
            background-color: #f7e6a7; /* Nisip deschis */ 
            color: #38761d; /* Verde închis */ 
            font-family: 'Arial', sans-serif;
            transition: background-color 2s ease-in-out, color 2s ease-in-out; 
        }
        .final-mission .container {
            background-color: rgba(255, 255, 255, 0.9);
            border: 2px solid #00bfff; /* Albastru Azur */ 
            box-shadow: 0 0 30px rgba(0, 191, 255, 0.7);
            max-width: 800px; /* Lărgim pentru mesaje */
        }
        .final-mission h1 {
            color: #ff8c00; /* Portocaliu de apus */
        }
        .final-mission .message-block {
            border-left: 5px solid #ff8c00;
            padding: 10px 20px;
            margin: 20px 0;
            background-color: rgba(255, 255, 255, 0.6);
            text-align: left;
            font-size: 1.1em;
            color: #4a2a00;
            font-style: italic;
        }
        .final-mission .sender {
            display: block;
            text-align: right;
            font-weight: bold;
            margin-top: 10px;
            color: #00bfff;
            font-style: normal;
        }
        .final-mission #final-message h2 {
            color: #ff8c00;
            font-size: 2.5em;
            margin-bottom: 30px;
        }


        /* Ascundem penalizarea inițial */
        #penalty-view { display: none; }
    </style>
</head>
<body>

    <div class="container">
        
        <div id="initial-view">
            <h1 id="main-title">DESTINAȚIE NECUNOSCUTĂ - Introdu codul de acces!</h1>
            
            <input type="text" id="date-password-input" class="password-input" placeholder="##.##.#### (Ex: 01.01.2025)" maxlength="10">
            
            <button id="decrypt-button">DECRIPTEAZĂ</button>
            
            <div id="error-message-date"></div>
        </div>

        <div id="penalty-view">
             <h1 id="penalty-title">EROARE CRITICĂ! PENALIZARE ACTIVATĂ!</h1>
             <p style="color: yellow; font-size: 1.2em;">Greselile se platesc scump! Trebuie sa faci un sacrificiu pentru binele comun. Introdu initialele oamenilor cu care stai la masa acum - ai grija sa fie in ordine alfabetica.</p>

             <input type="text" id="initials-password-input" class="password-input" placeholder="Ex: AB" maxlength="2">
             <button id="penalty-button">SACRIFICĂ</button>
             
             <div id="error-message-initials"></div>
        </div>

        <div id="success-view" style="display:none;">
            <p style="font-size: 2em; color: #ff9900;">Decriptare totală.</p>
            <button id="next-mission-button">VEZI URMĂTOAREA MISIUNE</button>
        </div>
        
        <div id="final-message" style="display:none;">
            <h2>TRANS MISIUNEA 2: FIȘIERE RECUPERATE</h2>
            <p style="font-size: 1.5em; font-weight: bold; color: #ff8c00;">Teofana, fă-ți bagajul! Destinație: Tailanda - Februarie 2026!!! 🇹🇭</p>
            
            <hr style="border-color: #ff8c00;">

                        <div class="message-block">
                "Draga Ciolofana, Iti doresc o calatorie minunata, cu mult spf 50, cu tot ce iti ureaza Andreea and then some. Ai grija sa nu te imbolnavesti si abia astept sa primesc o carte postala de acolo dupa 2 ani de la vizita ta:)) Pupi! Pa!"
                <span class="sender">-- Dori (Decriptare Nivel 3)</span>
            </div>

            <div class="message-block">
                "La multi ani, prietenaaaaa meaaa cea mai bunaaa (trebuia sa precizez pentru ca Oana a strans mesajele, sa nu uite cumva) stttttttimata (si vesnic ocupata) doamna directoare...Thailand is callling...prea devreme sa fac gluma cu iti doresc fu-thai? Sau?! Am decis ca ai nevoie de o vacanta, doar pentru tine, asa ca sa nu mai aud de baby sitting si sedinte si deadline-uri si CEO-ing decat daca e inceputul unui film porno, in care speeeer sa fii protagonista in fiecare seara din aceasta vacanta😏😏😏 Pixie e perfect capabila sa conduca compania, sa negocieze contractele, creca deja a si convocat o sedinta de pe canapea...asa ca umpleee bagajele si enjoy enjoy njoy joy oy yyy aaaa iii aaaaa aaaa uuuu aaaaa si pe plaja in apa pe barca la hotel pe langa hotel si oriunde!!! Acum ca am disperat-o pe Ioana cu toate glumele sexoase (stiu ca Oana ii arata), sa trecem la lucruri serioase: te iubesc din clasa 1 (bine am exagerat, da voiam sa le aduc aminte si asta) iti doresc tot binele din lumea asta si din toate cele care exista. Iti multumesc ca esti o prietena buna, through thick and thin! Sa ai o vacanta de vis, sa te relaxezi, sa explorezi, si cel mult sa te indragostesti de un baiat, doi, si nu de Thailanda ca I need you back❤️!"
                <span class="sender">-- Andreea (Transmisie prioritară)</span>
            </div>

            <div class="message-block">
                "Teofana bomboana, esti un om minunat si cum thailandezii nu au o Teofana, speram ca vor crea amintiri minunate alaturi de tine sa le pretuiasca o viata. Sa incepi 33 with a bang (wink wink) si asteptam sa ne spui cine sta cel mai bine pe mancare vegetariana, cretanii sau thailandezii? Te iubim, one of the greatest aunties Eva will know 🤗"
                <span class="sender">-- Madalina (Fișier Atașat)</span>
            </div>

            <div class="message-block">
                "Cumaaaa, oricat as vrea, nu as putea sa ma ridic la nivelul Andreei cand vine vorba de mesaje de la multi ani, dar pot doar sa incerc. Iti doresc sa ai parte de o aventura in care sa vizitezi asa multe locuri, sa incerci asa multe feluri de mancare si sa iti faci asa multe amintiri, incat sa iti tot aduci aminte de chestii care ti s-au intamplat si pe care o sa uiti sa ni le spui imediat cum te intorci si sa mai avem ce povesti si pana spre finalul anului. Cu mai multe urari de bine, ne mai auzim si in februarie!"
                <span class="sender">-- Oana (Transmisie Securizată)</span>
            </div>

            <div class="message-block">
                "Teofanica noastră minunată și frumoasă, la muuuulți aaaaaani! Acest cadou vine din partea noastră ca un gest de recunoștință și bucurie că te avem în viețile noastre! Te iubesc enooooorm! Și sper să te bucuri la maxiiiiim de această experiență 🤍"
                <span class="sender">-- Ioana (Mesaj Criptat Reușit)</span>
            </div>
            
            <div class="message-block">
                "Iti urez un 'La mulți ani' timpuriu, Teofana! Iti doresc o aventură minunată în Thailanda (is this your leaving the shire moment?) și cât mai multe bucurii de ziua ta! 🤗"
                <span class="sender">-- Gabi (Log Recuperat)</span>
            </div>

            <div class="message-block">
                "Draga Teofanica!! Ma bucur tare mult ca reusesti sa-ti indeplinesti acest vis pentru ca meriti din plin. Sa te distrezi maxim! Si send pics!!!"
                <span class="sender">-- Daniela (Decriptare Nivel 1)</span>
            </div>

            <div class="message-block">
                "Draga mea Teofanica, Sper să ai parte de experiența vieții tale în Thailanda, să fie atât de minunată încât nici nu ți-ai fi putut imagina o asemenea aventură. Meriți din plin tot ce e mai bun pe lumea asta. ❤ Să știi că, în loc de poze cu cai, aștept poze cu surferi la bustul gol pe plajă, din ăștia care merg în Thailanda să se regăsească pe ei și să-și caute scopul în viață. Și cine știe, poate iti gasesti si tu scopul in brațele unuia. Sau a doi… 😉 Love you always, Mariana"
                <span class="sender">-- Mariana (Cod Secret Revelat)</span>
            </div>

        </div>

    </div>

    <script>
        // Setări
        const CORRECT_DATE = '20.02.2026';
        const CORRECT_INITIALS = 'IO';
        const MAX_ATTEMPTS = 2;

        // Variabile de stare
        let dateAttempts = 0;
        let initialsAttempts = 0;
        
        // Elemente DOM
        const initialView = document.getElementById('initial-view');
        const penaltyView = document.getElementById('penalty-view');
        const successView = document.getElementById('success-view');
        const finalMessage = document.getElementById('final-message');
        const mainTitle = document.getElementById('main-title');
        
        const dateInput = document.getElementById('date-password-input');
        const decryptButton = document.getElementById('decrypt-button');
        const errorDate = document.getElementById('error-message-date');

        const initialsInput = document.getElementById('initials-password-input');
        const penaltyButton = document.getElementById('penalty-button');
        const errorInitials = document.getElementById('error-message-initials');

        const nextMissionButton = document.getElementById('next-mission-button');

        // Funcții
        function showView(viewToShow) {
            initialView.style.display = 'none';
            penaltyView.style.display = 'none';
            successView.style.display = 'none';
            finalMessage.style.display = 'none';
            viewToShow.style.display = 'block';
            
            // Resetăm mesajele de eroare când schimbăm view-ul
            errorDate.style.display = 'none';
            errorInitials.style.display = 'none';
        }

        function resetInitialView() {
            showView(initialView);
            dateAttempts = 0; // Resetăm numărul de greșeli la 0
            mainTitle.textContent = 'DESTINAȚIE NECUNOSCUTĂ - Introdu codul de acces!';
            dateInput.value = '';
            errorDate.textContent = '';
        }

        // #####################################
        // LOGICA STĂRII 1: PAROLĂ DATA
        // #####################################

        decryptButton.addEventListener('click', function() {
            const enteredPassword = dateInput.value.trim();

            if (enteredPassword === CORRECT_DATE) {
                // Succes
                mainTitle.textContent = 'Codul de Acces acceptat.';
                document.querySelector('.container').style.animation = 'none'; // Oprim glitch-ul
                showView(successView);
                
            } else {
                // Eșec
                dateAttempts++;
                
                if (dateAttempts >= MAX_ATTEMPTS) {
                    // Trecem la starea de penalizare
                    showView(penaltyView);
                    dateInput.value = '';
                    mainTitle.textContent = 'MISIUNE EȘUATĂ! Treci la Penalizare!';
                    document.getElementById('penalty-title').textContent = 'EROARE CRITICĂ! PENALIZARE ACTIVATĂ!';
                } else {
                    // Cazul "Mai ai o incercare"
                    mainTitle.textContent = 'DECRIPTATOR BLOCAT! Cod greșit!';
                    errorDate.innerHTML = 'EROARE CRITICĂ. Mai ai **o singură** încercare!';
                    errorDate.style.display = 'block';
                    dateInput.value = ''; // Golește câmpul
                }
            }
        });

        // #####################################
        // LOGICA STĂRII 2: PAROLĂ INIȚIALE
        // #####################################
        
        penaltyButton.addEventListener('click', function() {
            const enteredInitials = initialsInput.value.trim().toUpperCase();

            if (enteredInitials === CORRECT_INITIALS) {
                // Succesul penalizării (Resetează jocul)
                alert('Sacrificiu acceptat. Ai câștigat o nouă șansă.');
                resetInitialView();
            } else {
                // Eșecul penalizării (Mesajul "Fratele cel Mare")
                initialsAttempts++;
                errorInitials.innerHTML = 'De ce il minți pe **Fratele cel Mare**? Te las totuși să mai introduci codul încă o dată.';
                errorInitials.style.display = 'block';
                initialsInput.value = '';
                
                // După ce a văzut mesajul, resetăm la starea inițială
                setTimeout(resetInitialView, 6000); 
            }
        });

        // #####################################
        // LOGICA STĂRII DE SUCCES
        // #####################################

        nextMissionButton.addEventListener('click', function() {
            // Trecem la modul final de surpriză (culori de plajă)
            document.body.classList.add('final-mission');
            
            // Ascundem elementele inutile și afișăm mesajul final
            successView.style.display = 'none';
            mainTitle.textContent = 'FELICITĂRI! DESTINAȚIA FINALĂ REZOLVATĂ!';
            finalMessage.style.display = 'block';
        });
    </script>

</body>
</html>
